<?xml version='1.0' encoding='ISO-8859-1'?>
<unit language='Java'>
   <ANNOTATION_LIST>
   ANNOTATION_LIST
   </ANNOTATION_LIST>
   <PACKAGE>
   package
      <DOT>
      .
         <IDENT>
         atm
         </IDENT>
         <IDENT>
         transaction
         </IDENT>
      </DOT>
   </PACKAGE>
   <IMPORT>
   import
      <DOT>
      .
         <IDENT>
         atm
         </IDENT>
         <IDENT>
         ATM
         </IDENT>
      </DOT>
   </IMPORT>
   <IMPORT>
   import
      <DOT>
      .
         <IDENT>
         atm
         </IDENT>
         <IDENT>
         Session
         </IDENT>
      </DOT>
   </IMPORT>
   <IMPORT>
   import
      <DOT>
      .
         <IDENT>
         atm
         </IDENT>
         <IDENT>
         physical
         </IDENT>
      </DOT>
      <DOTSTAR>
      .*
      </DOTSTAR>
   </IMPORT>
   <IMPORT>
   import
      <DOT>
      .
         <IDENT>
         banking
         </IDENT>
         <IDENT>
         Balances
         </IDENT>
      </DOT>
   </IMPORT>
   <IMPORT>
   import
      <DOT>
      .
         <IDENT>
         banking
         </IDENT>
         <IDENT>
         Card
         </IDENT>
      </DOT>
   </IMPORT>
   <IMPORT>
   import
      <DOT>
      .
         <IDENT>
         banking
         </IDENT>
         <IDENT>
         Message
         </IDENT>
      </DOT>
   </IMPORT>
   <IMPORT>
   import
      <DOT>
      .
         <IDENT>
         banking
         </IDENT>
         <IDENT>
         Status
         </IDENT>
      </DOT>
   </IMPORT>
   <IMPORT>
   import
      <DOT>
      .
         <IDENT>
         banking
         </IDENT>
         <IDENT>
         Receipt
         </IDENT>
      </DOT>
   </IMPORT>
   <CLASS>
   class
      <MODIFIER_LIST>
      MODIFIER_LIST
         <PUBLIC>
         public
         </PUBLIC>
         <ABSTRACT>
         abstract
         </ABSTRACT>
      </MODIFIER_LIST>
      <IDENT>
      Transaction
      </IDENT>
      <CLASS_TOP_LEVEL_SCOPE>
      CLASS_TOP_LEVEL_SCOPE
         <CONSTRUCTOR_DECL>
         CONSTRUCTOR_DECL
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PUBLIC>
               public
               </PUBLIC>
            </MODIFIER_LIST>
            <FORMAL_PARAM_LIST>
            FORMAL_PARAM_LIST
               <FORMAL_PARAM_STD_DECL>
               FORMAL_PARAM_STD_DECL
                  <LOCAL_MODIFIER_LIST>
                  LOCAL_MODIFIER_LIST
                  </LOCAL_MODIFIER_LIST>
                  <TYPE>
                  TYPE
                     <QUALIFIED_TYPE_IDENT>
                     QUALIFIED_TYPE_IDENT
                        <IDENT>
                        ATM
                        </IDENT>
                     </QUALIFIED_TYPE_IDENT>
                  </TYPE>
                  <IDENT>
                  atm
                  </IDENT>
               </FORMAL_PARAM_STD_DECL>
               <FORMAL_PARAM_STD_DECL>
               FORMAL_PARAM_STD_DECL
                  <LOCAL_MODIFIER_LIST>
                  LOCAL_MODIFIER_LIST
                  </LOCAL_MODIFIER_LIST>
                  <TYPE>
                  TYPE
                     <QUALIFIED_TYPE_IDENT>
                     QUALIFIED_TYPE_IDENT
                        <IDENT>
                        Session
                        </IDENT>
                     </QUALIFIED_TYPE_IDENT>
                  </TYPE>
                  <IDENT>
                  session
                  </IDENT>
               </FORMAL_PARAM_STD_DECL>
               <FORMAL_PARAM_STD_DECL>
               FORMAL_PARAM_STD_DECL
                  <LOCAL_MODIFIER_LIST>
                  LOCAL_MODIFIER_LIST
                  </LOCAL_MODIFIER_LIST>
                  <TYPE>
                  TYPE
                     <QUALIFIED_TYPE_IDENT>
                     QUALIFIED_TYPE_IDENT
                        <IDENT>
                        Card
                        </IDENT>
                     </QUALIFIED_TYPE_IDENT>
                  </TYPE>
                  <IDENT>
                  card
                  </IDENT>
               </FORMAL_PARAM_STD_DECL>
               <FORMAL_PARAM_STD_DECL>
               FORMAL_PARAM_STD_DECL
                  <LOCAL_MODIFIER_LIST>
                  LOCAL_MODIFIER_LIST
                  </LOCAL_MODIFIER_LIST>
                  <TYPE>
                  TYPE
                     <INT>
                     int
                     </INT>
                  </TYPE>
                  <IDENT>
                  pin
                  </IDENT>
               </FORMAL_PARAM_STD_DECL>
            </FORMAL_PARAM_LIST>
            <BLOCK_SCOPE>
            BLOCK_SCOPE
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <DOT>
                     .
                        <THIS>
                        this
                        </THIS>
                        <IDENT>
                        atm
                        </IDENT>
                     </DOT>
                     <IDENT>
                     atm
                     </IDENT>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <DOT>
                     .
                        <THIS>
                        this
                        </THIS>
                        <IDENT>
                        session
                        </IDENT>
                     </DOT>
                     <IDENT>
                     session
                     </IDENT>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <DOT>
                     .
                        <THIS>
                        this
                        </THIS>
                        <IDENT>
                        card
                        </IDENT>
                     </DOT>
                     <IDENT>
                     card
                     </IDENT>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <DOT>
                     .
                        <THIS>
                        this
                        </THIS>
                        <IDENT>
                        pin
                        </IDENT>
                     </DOT>
                     <IDENT>
                     pin
                     </IDENT>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <DOT>
                     .
                        <THIS>
                        this
                        </THIS>
                        <IDENT>
                        serialNumber
                        </IDENT>
                     </DOT>
                     <POST_INC>
                     POST_INC
                        <IDENT>
                        nextSerialNumber
                        </IDENT>
                     </POST_INC>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <DOT>
                     .
                        <THIS>
                        this
                        </THIS>
                        <IDENT>
                        balances
                        </IDENT>
                     </DOT>
                     <CLASS_CONSTRUCTOR_CALL>
                     STATIC_ARRAY_CREATOR
                        <QUALIFIED_TYPE_IDENT>
                        QUALIFIED_TYPE_IDENT
                           <IDENT>
                           Balances
                           </IDENT>
                        </QUALIFIED_TYPE_IDENT>
                        <ARGUMENT_LIST>
                        ARGUMENT_LIST
                        </ARGUMENT_LIST>
                     </CLASS_CONSTRUCTOR_CALL>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <IDENT>
                     cc
                     </IDENT>
                     <CLASS_CONSTRUCTOR_CALL>
                     STATIC_ARRAY_CREATOR
                        <QUALIFIED_TYPE_IDENT>
                        QUALIFIED_TYPE_IDENT
                           <IDENT>
                           CustomerConsole
                           </IDENT>
                        </QUALIFIED_TYPE_IDENT>
                        <ARGUMENT_LIST>
                        ARGUMENT_LIST
                        </ARGUMENT_LIST>
                     </CLASS_CONSTRUCTOR_CALL>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <IDENT>
                     ntb
                     </IDENT>
                     <CLASS_CONSTRUCTOR_CALL>
                     STATIC_ARRAY_CREATOR
                        <QUALIFIED_TYPE_IDENT>
                        QUALIFIED_TYPE_IDENT
                           <IDENT>
                           NetworkToBank
                           </IDENT>
                        </QUALIFIED_TYPE_IDENT>
                        <ARGUMENT_LIST>
                        ARGUMENT_LIST
                        </ARGUMENT_LIST>
                     </CLASS_CONSTRUCTOR_CALL>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <IDENT>
                     rp
                     </IDENT>
                     <CLASS_CONSTRUCTOR_CALL>
                     STATIC_ARRAY_CREATOR
                        <QUALIFIED_TYPE_IDENT>
                        QUALIFIED_TYPE_IDENT
                           <IDENT>
                           ReceiptPrinter
                           </IDENT>
                        </QUALIFIED_TYPE_IDENT>
                        <ARGUMENT_LIST>
                        ARGUMENT_LIST
                        </ARGUMENT_LIST>
                     </CLASS_CONSTRUCTOR_CALL>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <IDENT>
                     cr
                     </IDENT>
                     <CLASS_CONSTRUCTOR_CALL>
                     STATIC_ARRAY_CREATOR
                        <QUALIFIED_TYPE_IDENT>
                        QUALIFIED_TYPE_IDENT
                           <IDENT>
                           CardReader
                           </IDENT>
                        </QUALIFIED_TYPE_IDENT>
                        <ARGUMENT_LIST>
                        ARGUMENT_LIST
                        </ARGUMENT_LIST>
                     </CLASS_CONSTRUCTOR_CALL>
                  </ASSIGN>
               </EXPR>
               <EXPR>
               EXPR
                  <ASSIGN>
                  =
                     <IDENT>
                     state
                     </IDENT>
                     <IDENT>
                     GETTING_SPECIFICS_STATE
                     </IDENT>
                  </ASSIGN>
               </EXPR>
            </BLOCK_SCOPE>
         </CONSTRUCTOR_DECL>
         <VOID_METHOD_DECL>
         VOID_METHOD_DECL
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PRIVATE>
               private
               </PRIVATE>
            </MODIFIER_LIST>
            <IDENT>
            getSpecificsFromCustomer
            </IDENT>
            <FORMAL_PARAM_LIST>
            FORMAL_PARAM_LIST
            </FORMAL_PARAM_LIST>
            <BLOCK_SCOPE>
            BLOCK_SCOPE
               <VAR_DECLARATION>
               VAR_DECLARATION
                  <LOCAL_MODIFIER_LIST>
                  LOCAL_MODIFIER_LIST
                  </LOCAL_MODIFIER_LIST>
                  <TYPE>
                  TYPE
                     <QUALIFIED_TYPE_IDENT>
                     QUALIFIED_TYPE_IDENT
                        <IDENT>
                        String
                        </IDENT>
                     </QUALIFIED_TYPE_IDENT>
                  </TYPE>
                  <VAR_DECLARATOR_LIST>
                  VAR_DECLARATOR_LIST
                     <VAR_DECLARATOR>
                     VAR_DECLARATOR
                        <IDENT>
                        message
                        </IDENT>
                        <EXPR>
                        EXPR
                           <STRING_LITERAL>
                           ""
                           </STRING_LITERAL>
                        </EXPR>
                     </VAR_DECLARATOR>
                  </VAR_DECLARATOR_LIST>
               </VAR_DECLARATION>
               <VAR_DECLARATION>
               VAR_DECLARATION
                  <LOCAL_MODIFIER_LIST>
                  LOCAL_MODIFIER_LIST
                  </LOCAL_MODIFIER_LIST>
                  <TYPE>
                  TYPE
                     <INT>
                     int
                     </INT>
                  </TYPE>
                  <VAR_DECLARATOR_LIST>
                  VAR_DECLARATOR_LIST
                     <VAR_DECLARATOR>
                     VAR_DECLARATOR
                        <IDENT>
                        balance
                        </IDENT>
                        <EXPR>
                        EXPR
                           <DECIMAL_LITERAL>
                           10000
                           </DECIMAL_LITERAL>
                        </EXPR>
                     </VAR_DECLARATOR>
                  </VAR_DECLARATOR_LIST>
               </VAR_DECLARATION>
               <EXPR>
               EXPR
                  <METHOD_CALL>
                  METHOD_CALL
                     <DOT>
                     .
                        <IDENT>
                        ntb
                        </IDENT>
                        <IDENT>
                        send
                        </IDENT>
                     </DOT>
                     <ARGUMENT_LIST>
                     ARGUMENT_LIST
                        <EXPR>
                        EXPR
                           <IDENT>
                           message
                           </IDENT>
                        </EXPR>
                        <EXPR>
                        EXPR
                           <IDENT>
                           balance
                           </IDENT>
                        </EXPR>
                     </ARGUMENT_LIST>
                  </METHOD_CALL>
               </EXPR>
            </BLOCK_SCOPE>
         </VOID_METHOD_DECL>
         <VOID_METHOD_DECL>
         VOID_METHOD_DECL
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PRIVATE>
               private
               </PRIVATE>
            </MODIFIER_LIST>
            <IDENT>
            completeTransaction
            </IDENT>
            <FORMAL_PARAM_LIST>
            FORMAL_PARAM_LIST
            </FORMAL_PARAM_LIST>
            <BLOCK_SCOPE>
            BLOCK_SCOPE
               <EXPR>
               EXPR
                  <METHOD_CALL>
                  METHOD_CALL
                     <DOT>
                     .
                        <IDENT>
                        rp
                        </IDENT>
                        <IDENT>
                        printReceipt
                        </IDENT>
                     </DOT>
                     <ARGUMENT_LIST>
                     ARGUMENT_LIST
                     </ARGUMENT_LIST>
                  </METHOD_CALL>
               </EXPR>
            </BLOCK_SCOPE>
         </VOID_METHOD_DECL>
         <FUNCTION_METHOD_DECL>
         FUNCTION_METHOD_DECL
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PUBLIC>
               public
               </PUBLIC>
            </MODIFIER_LIST>
            <TYPE>
            TYPE
               <BOOLEAN>
               boolean
               </BOOLEAN>
            </TYPE>
            <IDENT>
            performTransaction
            </IDENT>
            <FORMAL_PARAM_LIST>
            FORMAL_PARAM_LIST
            </FORMAL_PARAM_LIST>
            <THROWS_CLAUSE>
            THROWS_CLAUSE
               <IDENT>
               CardRetained
               </IDENT>
            </THROWS_CLAUSE>
            <BLOCK_SCOPE>
            BLOCK_SCOPE
               <VAR_DECLARATION>
               VAR_DECLARATION
                  <LOCAL_MODIFIER_LIST>
                  LOCAL_MODIFIER_LIST
                  </LOCAL_MODIFIER_LIST>
                  <TYPE>
                  TYPE
                     <QUALIFIED_TYPE_IDENT>
                     QUALIFIED_TYPE_IDENT
                        <IDENT>
                        String
                        </IDENT>
                     </QUALIFIED_TYPE_IDENT>
                  </TYPE>
                  <VAR_DECLARATOR_LIST>
                  VAR_DECLARATOR_LIST
                     <VAR_DECLARATOR>
                     VAR_DECLARATOR
                        <IDENT>
                        doAnotherMessage
                        </IDENT>
                        <EXPR>
                        EXPR
                           <STRING_LITERAL>
                           ""
                           </STRING_LITERAL>
                        </EXPR>
                     </VAR_DECLARATOR>
                  </VAR_DECLARATOR_LIST>
               </VAR_DECLARATION>
               <EXPR>
               EXPR
                  <METHOD_CALL>
                  METHOD_CALL
                     <DOT>
                     .
                        <IDENT>
                        ntb
                        </IDENT>
                        <IDENT>
                        send
                        </IDENT>
                     </DOT>
                     <ARGUMENT_LIST>
                     ARGUMENT_LIST
                        <EXPR>
                        EXPR
                           <IDENT>
                           doAnotherMessage
                           </IDENT>
                        </EXPR>
                        <EXPR>
                        EXPR
                           <IDENT>
                           balance
                           </IDENT>
                        </EXPR>
                     </ARGUMENT_LIST>
                  </METHOD_CALL>
               </EXPR>
            </BLOCK_SCOPE>
         </FUNCTION_METHOD_DECL>
         <FUNCTION_METHOD_DECL>
         FUNCTION_METHOD_DECL
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PUBLIC>
               public
               </PUBLIC>
            </MODIFIER_LIST>
            <TYPE>
            TYPE
               <INT>
               int
               </INT>
            </TYPE>
            <IDENT>
            getSerialNumber
            </IDENT>
            <FORMAL_PARAM_LIST>
            FORMAL_PARAM_LIST
            </FORMAL_PARAM_LIST>
            <BLOCK_SCOPE>
            BLOCK_SCOPE
               <RETURN>
               return
                  <EXPR>
                  EXPR
                     <IDENT>
                     serialNumber
                     </IDENT>
                  </EXPR>
               </RETURN>
            </BLOCK_SCOPE>
         </FUNCTION_METHOD_DECL>
         <CLASS>
         class
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PUBLIC>
               public
               </PUBLIC>
               <STATIC>
               static
               </STATIC>
            </MODIFIER_LIST>
            <IDENT>
            CardRetained
            </IDENT>
            <EXTENDS_CLAUSE>
            EXTENDS_CLAUSE
               <TYPE>
               TYPE
                  <QUALIFIED_TYPE_IDENT>
                  QUALIFIED_TYPE_IDENT
                     <IDENT>
                     Exception
                     </IDENT>
                  </QUALIFIED_TYPE_IDENT>
               </TYPE>
            </EXTENDS_CLAUSE>
            <CLASS_TOP_LEVEL_SCOPE>
            CLASS_TOP_LEVEL_SCOPE
               <CONSTRUCTOR_DECL>
               CONSTRUCTOR_DECL
                  <MODIFIER_LIST>
                  MODIFIER_LIST
                     <PUBLIC>
                     public
                     </PUBLIC>
                  </MODIFIER_LIST>
                  <FORMAL_PARAM_LIST>
                  FORMAL_PARAM_LIST
                  </FORMAL_PARAM_LIST>
                  <BLOCK_SCOPE>
                  BLOCK_SCOPE
                  </BLOCK_SCOPE>
               </CONSTRUCTOR_DECL>
            </CLASS_TOP_LEVEL_SCOPE>
         </CLASS>
         <VAR_DECLARATION>
         VAR_DECLARATION
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PROTECTED>
               protected
               </PROTECTED>
            </MODIFIER_LIST>
            <TYPE>
            TYPE
               <QUALIFIED_TYPE_IDENT>
               QUALIFIED_TYPE_IDENT
                  <IDENT>
                  ATM
                  </IDENT>
               </QUALIFIED_TYPE_IDENT>
            </TYPE>
            <VAR_DECLARATOR_LIST>
            VAR_DECLARATOR_LIST
               <VAR_DECLARATOR>
               VAR_DECLARATOR
                  <IDENT>
                  atm
                  </IDENT>
               </VAR_DECLARATOR>
            </VAR_DECLARATOR_LIST>
         </VAR_DECLARATION>
         <VAR_DECLARATION>
         VAR_DECLARATION
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PROTECTED>
               protected
               </PROTECTED>
            </MODIFIER_LIST>
            <TYPE>
            TYPE
               <QUALIFIED_TYPE_IDENT>
               QUALIFIED_TYPE_IDENT
                  <IDENT>
                  Session
                  </IDENT>
               </QUALIFIED_TYPE_IDENT>
            </TYPE>
            <VAR_DECLARATOR_LIST>
            VAR_DECLARATOR_LIST
               <VAR_DECLARATOR>
               VAR_DECLARATOR
                  <IDENT>
                  session
                  </IDENT>
               </VAR_DECLARATOR>
            </VAR_DECLARATOR_LIST>
         </VAR_DECLARATION>
         <VAR_DECLARATION>
         VAR_DECLARATION
            <MODIFIER_LIST>
            MODIFIER_LIST
               <PROTECTED>
               protected
               </PROTECTED>
            </MODIFIER_LIST>
            <TYPE>
            TYPE
               <QUALIFIED_TYPE_IDENT>
               QUALIFIED_TYPE_IDENT
                  <IDENT>
                  Card
                  </IDENT>
               </QUALIFIED_TYPE_IDENT>
            </TYPE>
            <VAR_DECLARATOR_LIST>
            VAR_DECLARATOR_LIST
               <VAR_DECLARATOR>
               VAR_DECLARATOR
                  <IDENT>
                  card
                  </IDENT>
               </VAR_DECLARATOR>
            </VAR_DECLARATOR_LIST>
         </VAR_DECLARATION>
      </CLASS_TOP_LEVEL_SCOPE>
   </CLASS>
</unit>

							